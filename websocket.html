<!DOCTYPE html>
<html>
    <head>
        <title>WebSocket demo</title>
    </head>
    <body>
        <h1><p id="reading">Hello!</p></h1>
        <script>            
            function start(websocketServerLocation){
                ws = new WebSocket(websocketServerLocation);
                ws.onmessage = function (event) {
                    var messages = document.getElementById("reading").innerHTML = event.data;
                };
                ws.onclose = function(){
                    // Try to reconnect in 5 seconds
                    document.getElementById("reading").innerHTML = "Connecting...";
                    setTimeout(function(){start(websocketServerLocation)}, 5000);
                };
            }    

            start("ws://127.0.0.1:5678/")
        </script>
    </body>
</html>